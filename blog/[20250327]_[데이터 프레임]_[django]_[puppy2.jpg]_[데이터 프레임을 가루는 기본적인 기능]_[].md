# 데이터 프레임
데이터 프레임을 가루는 기본적인 기능 정리

***데이터 프레임 확인하기***

```py
import pandas as pd
df = pd.read_csv('파일경로')
df
```

• 왼쪽은 인덱스, 위에는 칼럼을 나타냅니다.

<br>

```py
df.head()
```
• 처음 5개 로우(행)를 가져옵니다.

<br>

```py
df.tail()
```
• 마지막 5개 로우(행)를 가져옵니다.

<br>

```py
df.shape
```
• 데이터의 (행, 열) 크기를 확인합니다.

<br>

```py
df.dtypes
```
• 각 칼럼(column)의 데이터 타입을 확인합니다.

<br>

```py
df.info()
```
• 데이터 전체 정보를 확인합니다.
• non-null count 값과 데이터 개수가 다르면 결측값이 존재합니다.

<br>

```py
df.describe()
```
• 기본적인 통계값(갯수, 평균, 편차 등) 을 확인할 수 있습니다.

<br>

```py
df.describe(include='all')
```
모든 항목에 대해 평균, 개수, 편차 등을 확인할 수 있습니다.

<br>

***데이터 정렬하기***

<br>

```py
df.sort_values(by='칼럼명')
```
• 기준을 놓고 오름차순 정렬합니다.

<br>

```py
df.sort_values(by='', accending=False)
```
• 내림차순 정렬합니다.

<br>

***인덱스 설정 및 변경***

```py
df.set_index('칼럼명')
```
• 특정 칼럼을 인덱스로 설정합니다.

<br>

```py
df.reset_index()
```
• 초기 상태로 인덱스를 되돌립니다

<br>

***칼럼명 변경하기***

```py
df.columns = ['새로운칼럼1', '새로운칼럼2', '새로운칼럼3']
```
• 칼럼명을 리스트로 변경할 수 있습니다.

<br>


```py
new = {'기존칼럼명1': '새이름1', '기존칼럼명2': '새이름2'}
df.rename(columns=new, inplace=True)
```
• 딕셔너리를 사용하여 특정 칼럼만 변경할 수도 있습니다.

<br>

***데이터 타입 변경하기***

```py
df['칼럼명'] = df['칼럼명'].astype('int')
```

•칼럼의 데이터 타입을 변경할 수 있습니다.

<br>

***값 확인 및 개수 세기***

```py
df['칼럼명'].unique()  # 값 종류 확인
df['칼럼명'].value_counts()  # 값 개수 확인
df['칼럼명'].value_counts(dropna=False)  # 결측값 포함 개수 확인
df['칼럼명'].value_counts(dropna=False, normalize=True)  # 비율 확인
```
<br>

***특정 칼럼 선택하기***
```py
df[['칼럼1', '칼럼2']]
```
• 여러 개의 특정 칼럼만 선택합니다.

<br>

***데이터프레임과 시리즈 차이***

• 데이터프레임(DataFrame) : 2차원 구조 (행과 열)
• 시리즈(Series) : 1차원 구조 (단일 열)

| 명칭  | 의미  |
|--------|--------|
| **ilo[]** | 위치 기준 인덱싱 |
| **loc[]** | 이름 기준 인덱싱 |

<br>

| 연산자  | 의미  |
|--------|--------|
|and|&|
|or| '|' |
|not|~|

<br>

```py
df1 = df['칼럼명'] == '특정값'  # 특정 조건
df2 = df['칼럼명'] > df['칼럼명'].mean()  # 평균보다 큰 값
df[df1 & df2]  # 두 조건을 만족하는 데이터
```
<br>

**논리 연산자 우선순위**
1. not (~)
2. and (&)
3. or (|)

```py
df[df1 & df2 | df3 & ~df4]
```

<br>

***query() 함수 사용하기***

```py
df.query("칼럼명 == '특정값'")
```
• query()를 사용하면 더 간결한 조건문을 작성할 수 있습니다.

<br>

```py
df.query("칼럼명 > @변수")
```
• 변수를 사용할 경우 @ 기호를 앞에 붙여야 합니다.

<br>

```py
df.query("`칼럼 명` == '값'")
```
• 칼럼명에 공백이 포함되어 있다면 백틱(``) 으로 감싸야 합니다.

<br>

***데이터 삭제하기***

```py
df.drop('칼럼명', axis=1)  # 특정 칼럼 삭제
df.drop(columns=['칼럼1', '칼럼2'])  # 여러 개 칼럼 삭제

df.drop(index=3)  # 특정 행(row) 삭제
df.drop(index=[3, 5, 7])  # 여러 개 행 삭제
```
